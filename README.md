# D'Kluter Response Generation using AI

## Description
This project utilizes Gemini-2.0-Flash and Google Search to analyze a given image and its associated categories and required fields. It generates structured metadata, including a title, description, tags, and detailed fields for detected objects.

Batch responses can also be generated by providing a CSV file with multiple images and their corresponding categories and required fields.

Some sample images and a CSV file with results are also provided for reference.

## How to Use:
### Step 1: Go to the App
Link to D'kluter app - [D'Kluter AI Response Frontend](https://dkluter-ai-response.streamlit.app/)

### Step 2: Select the Workflow
#### Option 1: Using Upload Images
1. Enter CSV file name for desired output file CSV.

2. Enable Google Search Tool for all if required. Or you can enable search tool for desired images individually as well once images are uploaded.

3. Upload single or multiple images.

4. Add Category and Required field names for the image as per requirement.

5. Finally clinck on Generate AI Response.

6. You can download the final CSV Result at end.

#### Option 2: Using Upload CSV
1. Upload the csv image in desired mentioned format and also upload the zip file of images.

2. Enable Google Search Tool for all if required. Or you can enable search tool for desired images individually.

4. Category and Required field names for the image will be taken from CSV. You can edit that if required.

5. Finally clinck on Generate AI Response.

6. You can download the final CSV Result at end.

### CSV File Format
Create a CSV file in desired format and save it in csv_files folder. 
Ensure the CSV file follows this structure. The columns for Title, Description, Tags, Fields, Time, and JSON Response can be left emptyâ€”these will be automatically filled by the script.

| S.No. | Image | Categories | Required Fields |Title | Description | Tags | Fields | 
|----------|----------|----------|----------|----------|----------|----------|
| 1 | img_name_1.jpg | category_1_1, category_1_2 | field_1_1, field_1_2 | | | | | 
| 2 | img_name_1.jpeg | category_2_1, category_2_2 | field_2_1, field_2_2, field_2_3 | | | | | 
| 3 | img_name_1.jpg | category_3_1, category_3_2 | field_1_1, field_1_2 | | | | | 

## General JSON Format of Response for an Output
- Input given by User:
    - image = image.jpg (jpg, jpeg, or png Format)
    - category = "category_1", "category_2"
    - Required Fields = "Field_1", "Field_2"

- Response Structure - JSON Format:
```json
{
    "Data": {
        "title": "Appropriate Title",
        "description": "A brief description providing relevant details about their characteristics, actions, or context while ignoring the background.",
        "tags": [
            "tag_1",
            "tag_2",
            "tag_3"
        ],
        "fields": [
            {
                "field_name": "Field_1",
                "field_type": "NUMBER",
                "field_value": ["12345"]
            },
            {
                "field_name": "Field_2",
                "field_type": "TEXT",
                "field_value": ["Value"]
            }
        ]
    }
}
```
### Explanation of Response Field: 
- Title: The AI-generated title for the image based on detected objects and context.
- Description: A concise AI-generated description summarizing the content of the image.
- Tags: A list of relevant keywords describing the image, starting from broad categories and moving to specific attributes.
- Fields: Structured metadata fields that provide additional details about detected objects.
    - Field Name: Name of the detected field (e.g., "Product ID", "Location").
    - Field Type: Type of data stored in the field (NUMBER, TEXT, DATE, or LOCATION).
    - Field Value: The corresponding value(s) for the field.

### Response Limitations:

| Field | Limitation |
|----------|----------|
| Title | Max 100 characters |
| Description | Max 80 words |
| Tags | Max 50 characters |
| Field Name | Max 50 characters | 
| Field Type | Must be one of: NUMBER, TEXT, DATE, LOCATION |
| Field Value | Max 500 characters |


## Troubleshooting and FAQs

### Common Issues
1. API Key Exhausted
- If the App stops working in between it might be an issue of API Key exhausted. Kindly contact us, we'll add a new key.
